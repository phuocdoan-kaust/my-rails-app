<%= form_with(model: product) do |form| %>
  <% if product.errors.any? %>
    <div class="row mb-3 bg-warning border border-1 p-2 rounded shadow-sm">
      <% product.errors.each do |error| %>
        <li><%= error.full_message %></li>
      <% end %>
    </div>
  <% end %>

  <div class="row mb-3">
    <div class="col-sm-2">
      <%= form.label :name, class: "col-form-label" %>
    </div>
    <div class="col-sm-10">
      <%= form.text_field :name, class: "form-control" %>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-sm-2">
      <%= form.label :brand_id, class: "col-form-label" %>
    </div>
    <div class="col-sm-10">
      <%= form.collection_select :brand_id, Brand.order(:name), :id, :name, {}, {:class => "form-select"} %>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-sm-2">
      <%= form.label :currency, class: "col-form-label" %>
    </div>
    <div class="col-sm-10">
      <%= form.text_field :currency, class: "form-control" %>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-sm-2">
      <%= form.label :price, class: "col-form-label" %>
    </div>
    <div class="col-sm-10">
      <%= form.number_field :price, class: "form-control" %>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-sm-2">
      <%= form.label :user_ids, "Allowed Users", class: "col-form-label" %>
    </div>
    <div class="col-sm-10">
      <%= form.collection_check_boxes(:user_ids, User.all, :id, :name) do |b| %>
        <div class="form-check">
          <%= b.check_box class:"form-check-input"  %>
          <%= b.label class:"form-check-label" %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="text-end">
    <%= form.submit "SAVE", class: "btn btn-primary" %>
    <% if product.new_record? %>
      <%= link_to "CANCEL", products_path, class: "btn btn-danger" %>
    <% else %>
      <%= link_to "CANCEL", @product, class: "btn btn-danger" %>
    <% end %>
  </div>
<% end %>
